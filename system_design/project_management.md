## 全体像
- **プロダクトの価値** = 収益アップ + コストダウン - 開発コスト

- **ビジネスの機能性**：そもそも開発の目的を明確する（后面的设计都是为了解决问题，核心在这里）
- （利用者の問題解決、生産性アップする）収益アップ、コストダウン
- 要件定期の考慮漏れをなくす
- 重要なビジネス知識とルールを定義書に反映する
- 継続的なプロダクト成長を支えるビジネス並走型の設計スキル

- **エンジニアの保守性**：
- 開発コストダウン（ソースコードを楽で安全に機能追加できる状態）
- ビジネス構造（現実）とコードの構造（実装）が一致すること（オブジェクト指向、ドメイン駆動）
- 疎結合、クラスの責務が明確で、依存関係も少ない

- **言語化する**：要件定義はモデリング、モデリングの反映は基本設計

- **考え方を整理する**：
- *道具集*（データフロー図、ER図、UML図など）を使って、情報収集、取捨選択するパターンを作る
- *抽象化から具体化にいく*：要件定義、基本設計、詳細設計（前面的工程的听取内容，是为了后面的详细设计服务的，是将系统利用者的问题点，业务详细流程，具像化为功能，主体，数据，和代码的类的过程）
- *ビジネス構造から要件定義に、考えること*：要件同士の矛盾があるか、暗黙ルール漏れてるか、枝葉の要件ズレてないか
- *要件定義から基本設計に、考えること*：本当に問題解決できる要件？いつ、誰が、何を使う要件なのか、誰を想定していたUI・UXなのか、使う人から聞く方が早い、アンケートとか
- *基本設計から詳細設計に、考えること*：基本設計で省く細かい仕様、後から追加できる機能の考慮、どうすればメンテナンスは楽、ビジネス理解と設計パターンの理解が大事
- *詳細設計からコード実装に、考えること*：ビジネス構造を反映できるコードになっているか

**まとめ：**
１、トップレベルの考慮事項：ビジネス目的・ゴール・なぜ、問題点は何でしょうか
２、ターゲット：アクター（登場人物、ユーザは誰なのか）
３、ユースケース、流れ、フローチャート
４、モデリング：機能とデータの仕様
５、この上で、アーキテクチャを作る
６、非機能要件を説明と工夫


## 上流工程の流れ
- 開発スタイル：WF（確実性）、アジャイル（柔軟性）
  - WF 适合一开始就知道要做什么，有一个具体的目标
  - 敏捷开发一开始会设置一个大的vision，和一个适合之后不断增加needs的原型
- 企画：*現状の問題、ビジョンやゴール、システムの完成像あるいはプラン*
  - why 和 what 很重要，符合 business 的才是最好的
  - 用户的 needs 有时候不是他们真正的需求，进行要因分析也是重要的一步
  - 后面所有的设计都是为了解决问题，反映目标
- 要件定義：*システム開発の達成条件、モデリング・機能要件・非機能要件*
  - 现场听取具体的意见和问题
  - 听取具体的商业常识，以防设计后发现完全不对
  - 对于用户好用，对于开发者好运维，好移植，好追加功能
- 基本設計：*画面設計、機能設計、データ設計*
- 詳細設計：*ロバスト分析、シーケンス図、クラス図*

## 企画、モデリング、機能、非機能要件
**目的**
- 建模的目的是，高清开发的*目的 why*，使开发的*目的*渗透到组织的各个部分，使大家理解这件事的意义，使用*图形化的表达*让大家理解vision和系统构造，才能听取更有用的改进建议，不断的将系统进行组织内*共享*，达成*共识*
- 对于专业词汇的模糊认识，需要当场澄清
- 建模阶段*只抽象，不要进行设计*，不然会给对方先入为主的错觉，从而漏掉很多关键细节

**成果物**
- *use case* 分析：表达系统利用的主体，目的，过程
- *flow chart*：整理用户的详细活动的活动图，状态迁移图，这部分是 use case 的细化
- *domain model & object*（很像ER图）：数据的建模，class 的建模的前一阶段，表达的是物モノ，人ヒト，规则ルール的关系
  - 这是一个很复杂的事情，要理清所有元素的关系和特性，并将他们结合起来
  - 建模，遵从OOP的设计原则，但是更上层，表达的是主体之间的各种关系，比如1对多这样的，或者层级细分等
  - model 这里相当于 class，object 这里就是 instance，用具体的 instance 解释建模过程，来看看对不对
  - 这里的建模内容，关系到后面的功能设计，数据库设计，class设计等，是非常重要的部分

## 基本設計、ここは仕様を詰める最後のチャンス
**目的**
- *画面設計、機能設計、データ設計*
- 通过UIUX界面设计，发现漏掉的事项
- 功能设计包括：input，output，trigger，以及具体处理内容也就是functions
- 数据设计，主要是数据库设计，以及数据流data flow图

**成果物**
- UI设计图
- 功能设计一览，根据之前洗出的所有情报(use case, ui, domain model, activity chart)，列出所有需要的功能
  - use case -> process function
  - trigger timing（比如点击按钮）
  - input contents，from where（比如用户输入/数据库）
  - output contents，to where（比如用户浏览器）
  - 这部分会涉及到甚至文字长度，等细致的 constraints，这部分会决定后期 class 设计的精度和进度
- 数据设计：ER图（数据构造）和数据流程图DFD（数据传送和处理）
  - domain model -> ER chart -> database

## 詳細設計、ロバスト分析、シーケンス図、クラス図
**目的**
- 编码准备阶段，目标是class图的完成

**成果物**
- robust 分析：系统是否健壮，服务之间的联系是否有合适的接口
- sequence 图：时序表达，*更加具体的method的执行顺序*的表达
- class 图：类，变数，方法的关系整理，有了这一步，就可以编码了

**设计模式**
- 继承，封装，多态，抽象
- 表达的是 class 之间的关系
- 使用已有的模式，和实际情况的结合
- controller 类：可以做为前端和功能的中间部分，即*接口*部分
- service 类：或者 use case 类，代表呼出各个功能的类，是*接口连接的对象*
- domain object 类和 domain service 类：二者指责分离
- repository 类：query 服务，是 service 和 DB 之间执行查询的类
- factory 类：指责分离为目的
